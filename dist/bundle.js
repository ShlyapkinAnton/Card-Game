(()=>{"use strict";var n=0,e=0,t=0,a=0;function s(){clearInterval(a),n=0,e=0,t=0}var c=document.getElementById("app"),o=1,i=0,l=0;console.log("Level :",o,";","Счет :",i,";","Ход :",l);var d=["AceSpades","KingSpades","QueenSpades","JackSpades","10Spades","9Spades","8Spades","7Spades","6Spades","AceHearts","KingHearts","QueenHearts","JackHearts","10Hearts","9Hearts","8Hearts","7Hearts","6Hearts","AceDiamonds","KingDiamonds","QueenDiamonds","JackDiamonds","10Diamonds","9Diamonds","8Diamonds","7Diamonds","6Diamonds","AceClubs","KingClubs","QueenClubs","JackClubs","10Clubs","9Clubs","8Clubs","7Clubs","6Clubs"],r=[];function u(){c.innerHTML='<div class="top center">\n    <div class="window">\n        <h1 class="header">Выбери сложность</h1>\n        <div class="cards">\n            <button data-level="1" class="card">1</button>\n            <button data-level="2" class="card">2</button>\n            <button data-level="3" class="card">3</button>\n        </div>\n        <button class="button">Старт</button>\n    </div>\n</div>',document.querySelectorAll(".card").forEach((function(n){n.addEventListener("click",(function(n){if(n.target instanceof HTMLElement){var e=n.target.dataset.level||"";1===(o=parseInt(e))?console.log("Level :",1):2===o?console.log("Level :",2):3===o&&console.log("Level :",3)}}))})),document.querySelector(".button").addEventListener("click",(function(){!function(n){var e=6;1===n?e=3:2===n?e=6:3===n&&(e=9),console.log("Кол-во карт :",e),d.sort((function(){return Math.random()-.5})),(d=d.slice(0,e)).forEach((function(n){return d.push(n)})),d.sort((function(){return Math.random()-.5})),r=d.map((function(n,e){return[e,n]})),console.log("массив пар",r)}(o),s(),m(!1),setTimeout((function(){m(!0),document.querySelectorAll(".timerDisplay").forEach((function(s){return c=s,void(a=setInterval((function(){1e3===(n+=10)&&(n=0,60==++e&&(e=0,60==++t&&(t=0))),c.innerHTML="".concat((t<10?"0"+t:t)+"."+(e<10?"0"+e:e))}),10));var c})),document.getElementById("css").style.pointerEvents="auto",console.log("Старт")}),5e3),console.log("Играть на уровне сложности :",o)}))}function m(n){var e=r.map((function(n){return'<div id="'.concat(n[0],'" class="back"><img class="playingFieldCard" id="').concat(n[0],'" data-name="').concat(n[1],'" src="./cards/back.jpg" alt=""></div>')})).join(""),t=r.map((function(n){return'<div id="'.concat(n[0],'" class="back"><img class="playingFieldCard" id="').concat(n[0],'" data-name="').concat(n[1],'" src="./cards/').concat(n[1],'.jpg" alt=""></div>')})).join(""),a='\n    <div class="playingField center">\n        <div class="playingFieldHeader">\n            <div class="timeBox">\n                <h1 class="time timerDisplay">00.00</h1>\n            </div>\n            <div>\n                <button class="button returnButton">Начать заново</button>\n            </div>\n        </div>\n        <div id="css" class="playingFieldCards">\n            '.concat(n?e:t,'\n        </div>\n    </div>\n    <div id="addHtml" class="imgBg"></div>');function m(n){var e,t=null===(e=document.querySelector(".timerDisplay"))||void 0===e?void 0:e.innerHTML,a='\n        <div class="img"></div>\n        <div class="winLose center">\n            <img class="imgHeader" src="./cards/'.concat(n?"win.png":"lose.png",'" alt="winORlose">\n            <h1 class="headerLow">').concat(n?"Вы выиграли!":"Вы проиграли!",'</h1>\n            <h3 class="heading">Затраченное время:</h3>\n            <p class="timeHeader">').concat(t,'</p>\n            <button style="margin-bottom: 48px" class="button returnButton">Играть снова</button>\n        </div>');document.getElementById("addHtml").innerHTML=a,v(),s()}c.innerHTML=a,document.getElementById("css").style.pointerEvents="none";var v=function(){document.querySelectorAll(".returnButton").forEach((function(n){n.addEventListener("click",(function(){d=["AceSpades","KingSpades","QueenSpades","JackSpades","10Spades","9Spades","8Spades","7Spades","6Spades","AceHearts","KingHearts","QueenHearts","JackHearts","10Hearts","9Hearts","8Hearts","7Hearts","6Hearts","AceDiamonds","KingDiamonds","QueenDiamonds","JackDiamonds","10Diamonds","9Diamonds","8Diamonds","7Diamonds","6Diamonds","AceClubs","KingClubs","QueenClubs","JackClubs","10Clubs","9Clubs","8Clubs","7Clubs","6Clubs"],s(),o=1,l=0,i=0,u(),console.log("Играть заново. Level :",o,";","Счет :",i,";","Ход :",l)}))}))};v();var g=document.querySelectorAll(".playingFieldCard"),p=[],b=[];g.forEach((function(n){n.addEventListener("click",(function(e){if(e.target instanceof HTMLElement){var t=e.target.dataset.name||"",a=e.target.id;n.setAttribute("src","/cards/".concat(t,".jpg")),b.push(a),p.push(t),2===b.length&&2===p.length&&(b[0]!==b[1]?p[0]===p[1]?(i+=1,l=++l,b=[],p=[]):(l=++l,setTimeout((function(){g.forEach((function(n){n.setAttribute("src","/cards/back.jpg")})),console.log("Очистка")}),500),b=[],p=[]):b[0]===b[1]&&(p.shift(),b.shift()),console.log("Счет :",i,"Ход :",l),1===o?5!==l&&3!==i||(3===i?m(!0):i<=3&&m(!1)):2===o?8!==l&&6!==i||m(6===i):3===o&&(9!==l&&9!==i||m(9===i)))}}))}))}u()})();